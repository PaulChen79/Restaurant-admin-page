{{> collapseNav}}
<div class="col-10">
  <div class="row">
    <h2 style="padding: 8px 0px;">Manage<span class="fs-6 mx-5">products</span></h2>
  </div>
  <div class="row mt-3">
    <div class="d-flex justify-content-between">
      <a class="btn btn-primary btn-block" href="/admin/addProduct">Add Product</a>
      <form class="d-flex" action="/admin/products/search">
        <input class="form-control  me-2" style="width: 230px;" type="search" placeholder="Search by name or email" aria-label="Search" name="keyword">
        <button class="btn btn-outline-success" type="submit">Search</button>
        <a class="btn btn-outline-info mx-2" href="/admin/products">All</a>
      </form>
    </div>
  </div>
  <div class="row mt-5">
    <table class="table align-middle">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Image</th>
          <th scope="col">Product Name</th>
          <th scope="col">Price</th>
          <th scope="col">Category</th>
          <th scope="col">Active</th>
          <th scope="col" class="text-center">Action</th>
        </tr>
      </thead>
      <tbody>
        {{#each products}}
        <tr>
          <th scope="row"><img class="img-responsive center-block" src="{{this.image}}" style="width: 100px; border-radius: 50px; transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;"></th>
          <td>{{this.name}}</td>
          <td>${{this.price}}</td>
          <td>{{this.Category.name}}</td>
          <td>{{#ifCond this.active 1}}Active{{else}}Not active{{/ifCond}}</td>
          <td class="text-center">
            <button type="button" class="btn btn-link">
              <a class="btn btn-primary btn-block" href="/admin/products/{{this.id}}/edit">
                Edit
              </a>
            </button>
            <form action="/admin/products/{{this.id}}?_method=DELETE" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-danger btn-block">Delete</button>
            </form>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</div>